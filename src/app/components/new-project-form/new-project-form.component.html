<div class="new-project-form-container">
  <h2>Create New Project & Generate Predictions</h2>
  <form
    class="new-project-form"
    [formGroup]="projectForm"
    (ngSubmit)="onSubmit()"
  >
    <div class="form-group">
      <label for="projectName">Project Name*</label>
      <input
        id="projectName"
        name="projectName"
        type="text"
        formControlName="projectName"
        required
      />
      <div
        class="error"
        *ngIf="
          projectForm.get('projectName')?.touched &&
          projectForm.get('projectName')?.invalid
        "
      >
        Project Name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="clientName">Client Name</label>
      <input
        id="clientName"
        name="clientName"
        type="text"
        formControlName="clientName"
      />
    </div>
    <div class="form-group">
      <label for="description">Description (Optional)</label>
      <textarea
        id="description"
        name="description"
        rows="3"
        formControlName="description"
      ></textarea>
    </div>
    <div class="form-group">
      <label for="projectType">Project Type*</label>
      <select
        id="projectType"
        name="projectType"
        formControlName="projectType"
        required
      >
        <option value="">Select type</option>
        <option>Web App</option>
        <option>Mobile App</option>
        <option>API</option>
        <option>Data Science</option>
        <option>Other</option>
      </select>
      <div
        class="error"
        *ngIf="
          projectForm.get('projectType')?.touched &&
          projectForm.get('projectType')?.invalid
        "
      >
        Project Type is required.
      </div>
    </div>
    <div class="form-group">
      <label for="clientIndustry">Client Industry*</label>
      <select
        id="clientIndustry"
        name="clientIndustry"
        formControlName="clientIndustry"
        required
      >
        <option value="">Select industry</option>
        <option>Finance</option>
        <option>Healthcare</option>
        <option>Retail</option>
        <option>Education</option>
        <option>Technology</option>
        <option>Other</option>
      </select>
      <div
        class="error"
        *ngIf="
          projectForm.get('clientIndustry')?.touched &&
          projectForm.get('clientIndustry')?.invalid
        "
      >
        Client Industry is required.
      </div>
    </div>
    <div class="form-group">
      <label>Technology Stack*</label>
      <div class="tech-stack-options">
        <label *ngFor="let tech of techStackOptions">
          <input
            type="checkbox"
            [value]="tech"
            (change)="onTechStackChange($event)"
            [checked]="projectForm.get('techStack')?.value.includes(tech)"
          />
          {{ tech }}
        </label>
      </div>
      <div
        class="error"
        *ngIf="
          projectForm.get('techStack')?.touched &&
          projectForm.get('techStack')?.invalid
        "
      >
        At least one technology is required.
      </div>
    </div>
    <div class="form-group">
      <label for="teamSize">Estimated Team Size*</label>
      <select id="teamSize" name="teamSize" formControlName="teamSize" required>
        <option value="">Select size</option>
        <option>1-3</option>
        <option>4-6</option>
        <option>7-10</option>
        <option>10+</option>
      </select>
      <div
        class="error"
        *ngIf="
          projectForm.get('teamSize')?.touched &&
          projectForm.get('teamSize')?.invalid
        "
      >
        Team Size is required.
      </div>
    </div>
    <div class="form-group">
      <label for="duration">Estimated Duration*</label>
      <select id="duration" name="duration" formControlName="duration" required>
        <option value="">Select duration</option>
        <option><1 month</option>
        <option>1-3 months</option>
        <option>3-6 months</option>
        <option>6+ months</option>
      </select>
      <div
        class="error"
        *ngIf="
          projectForm.get('duration')?.touched &&
          projectForm.get('duration')?.invalid
        "
      >
        Duration is required.
      </div>
    </div>
    <div class="form-group">
      <label for="keywords">High-level Keywords/Features</label>
      <textarea
        id="keywords"
        name="keywords"
        rows="2"
        placeholder="User auth, payment gateway, ..."
        formControlName="keywords"
      ></textarea>
    </div>
    <div class="form-group">
      <label for="businessSpecification"
        >Business Specification (Optional)</label
      >
      <textarea
        id="businessSpecification"
        name="businessSpecification"
        rows="4"
        formControlName="businessSpecification"
      ></textarea>
    </div>
    <div class="form-actions">
      <button type="button" class="primary-btn" (click)="onSaveDraft()">
        Save Project
      </button>
      <button type="button" class="cancel-btn" (click)="onCancel()">
        Cancel
      </button>
    </div>
  </form>
</div>
