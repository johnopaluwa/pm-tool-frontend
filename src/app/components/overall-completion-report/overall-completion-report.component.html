<div class="report-detail-container">
  <h2>Overall Project Completion Rate</h2>

  <ng-container *ngIf="reportStatus === 'pending'">
    <p>Report generation pending.</p>
    <button (click)="generateReport()">Generate Report</button>
  </ng-container>

  <ng-container *ngIf="reportStatus === 'generating'">
    <app-loading-spinner></app-loading-spinner>
    <p>Generating report...</p>
  </ng-container>

  <ng-container *ngIf="reportStatus === 'completed' && !showReportContent">
    <p>Report generated successfully.</p>
    <button (click)="viewReport()">View Report</button>
  </ng-container>

  <ng-container *ngIf="reportStatus === 'completed' && showReportContent">
    <div class="report-item">
      <h3>Completion Rate</h3>
      <p>{{ overallCompletionRate | number : "1.0-2" }}%</p>
    </div>
  </ng-container>

  <ng-container *ngIf="reportStatus === 'failed'">
    <p>Failed to generate report.</p>
    <button (click)="generateReport()">Retry Generation</button>
  </ng-container>
</div>
