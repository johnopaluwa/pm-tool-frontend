<div class="report-detail-container">
  <h2>Overall Project Completion Rate</h2>

  <ng-container *ngIf="isLoading">
    <app-loading-spinner></app-loading-spinner>
    <p>Loading report...</p>
  </ng-container>

  <ng-container *ngIf="!isLoading && showReportContent">
    <div class="report-item">
      <h3>Completion Rate</h3>
      <p>{{ overallCompletionRate | number : "1.0-2" }}%</p>
    </div>

    <div class="report-item" *ngIf="overallStatusDistribution">
      <h3>Status Distribution</h3>
      <ul>
        <li *ngFor="let status of objectKeys(overallStatusDistribution)">
          {{ status }}: {{ overallStatusDistribution[status] }}
        </li>
      </ul>
    </div>
  </ng-container>

  <ng-container *ngIf="!isLoading && !showReportContent">
    <p>Failed to load report.</p>
    <button (click)="retryGeneration()">Retry Generation</button>
  </ng-container>
</div>
